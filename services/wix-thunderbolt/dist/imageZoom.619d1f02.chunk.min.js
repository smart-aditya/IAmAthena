(window.webpackJsonp__wix_thunderbolt_app=window.webpackJsonp__wix_thunderbolt_app||[]).push([[58],{296:function(e,t,n){"use strict";n.r(t),n.d(t,"page",(function(){return v})),n.d(t,"editor",(function(){return O})),n.d(t,"ImageZoomAPISymbol",(function(){return a.c}));var o=n(7),i=n(0),c=n(24),r=n(412),a=n(249),u=n(4),d=function(e,t,n){var o=t.getParsedUrl().searchParams.get(a.b);if(!o)return null;var i=e.get(a.a),c=o.includes(a.e)?o.split(a.e)[0]:n[o]||(null==i?void 0:i.compId);return c?{dataItemId:o,compId:c}:null},l=Object(o.h)([Object(o.f)(c.e,a.f),r.b,a.c,u.i],(function(e,t,n,o){var c=e.imageDataItemIdToCompId;return{onUrlChange:function(){return Object(i.b)(this,void 0,void 0,(function(){var e;return Object(i.d)(this,(function(i){switch(i.label){case 0:return(e=d(t,o,c))?[4,n.openImageZoom(e.compId,e.dataItemId)]:[3,2];case 1:return i.sent(),[3,3];case 2:n.closeImageZoom(),i.label=3;case 3:return[2]}}))}))},pageDidMount:function(){return Object(i.b)(this,void 0,void 0,(function(){var e;return Object(i.d)(this,(function(i){switch(i.label){case 0:return(e=d(t,o,c))?[4,n.openImageZoom(e.compId,e.dataItemId)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}}))}))},pageDidUnmount:function(){return Object(i.b)(this,void 0,void 0,(function(){return Object(i.d)(this,(function(e){return n.closeImageZoom(),[2]}))}))}}})),s=n(57),m=function(e,t,n,o,c){var r=e.shouldChangeUrl,u=e.imageZoomCompType,d=e.tpaGalleriesComps,l=e.nativeGalleriesComps,s=e.deviceType,m=e.wPhotoConfig,b=function(e){var t=c.getParsedUrl();e?t.searchParams.set(a.b,e):t.searchParams.delete(a.b),c.pushUrlState(t)},p=function(e){return Object(i.b)(void 0,void 0,void 0,(function(){var c;return Object(i.d)(this,(function(i){switch(i.label){case 0:return t.update(((c={})[a.a]=e,c)),[4,n.addComponentToDynamicStructure(a.a,{componentType:u,components:[]})];case 1:return i.sent(),o.setSiteScrollingBlocked(!0,a.a),[2]}}))}))},f=function(){n.isComponentInDynamicStructure(a.a)&&(n.isComponentInDynamicStructure(a.a)&&(n.removeComponentFromDynamicStructure(a.a),o.setSiteScrollingBlocked(!1,a.a)),b(null))},h=function(e){b(e)},v=function(e,t){var n="Smartphone"===s,o=e.id,c=e.uri,r=e.alt,a=e.width,u=e.height,d=e.href,l=e.link,m=e.title,b=e.description,p=e.crop,f=(null==l?void 0:l.href)||(null==l?void 0:l.linkPopupId)?{link:l}:{},h=d?{link:Object(i.a)(Object(i.a)({},l),{href:d})}:f;return Object(i.a)(Object(i.a)({id:o,containerId:t,uri:c,alt:r,name:e.name,width:a,height:u,title:m,description:b},h),!n&&{crop:p})},O=function(e,o,c){return Object(i.b)(void 0,void 0,void 0,(function(){var u,m,O,g,j,I;return Object(i.d)(this,(function(C){switch(C.label){case 0:return u=Object(i.e)(e.split("__"),1),m=u[0],O=Object(i.a)(Object(i.a)({},t.get(m)),t.get(e)),n.isComponentInDynamicStructure(a.a)?[2]:(g=d.hasOwnProperty(m),j=l.hasOwnProperty(m),g?I=function(e,t){return e.images.map((function(e){return v(e,t)}))}(O,e):j?(w=O.items,I=w.map((function(e){var t=e.image,n=e.dataId,o=Object(i.f)(e,["image","dataId"]);return v(Object(i.a)(Object(i.a)({id:n},t),o))}))):I=[v(O,e)],[4,p({images:I,onClose:function(){f(),c&&c()},onImageChange:h,dataItemId:o,compId:e,deviceType:s})]);case 1:return C.sent(),r&&b(o),[2]}var w}))}))};return{openImageZoom:O,closeImageZoom:f,addWPhotoOnClick:function(e){var n,o=m[e];if(o&&!t.get(e).onClick){t.update(((n={})[e]={onClick:function(n){return Object(i.b)(void 0,void 0,void 0,(function(){var c,r,u;return Object(i.d)(this,(function(d){switch(d.label){case 0:return c=n.currentTarget.id||e,r=t.get(c),"zoomMode"!==Object(i.a)(Object(i.a)({},t.get(e)),r).onClickBehavior?[2]:(u=r&&c!==e?""+c+a.e+o:o,n.preventDefault(),n.stopPropagation(),[4,O(c,u)]);case 1:return d.sent(),[2]}}))}))}},n))}},addNativeGalleryOnClick:function(e){var n;t.update(((n={})[e]={openImageZoom:function(e,t,n){return Object(i.b)(void 0,void 0,void 0,(function(){return Object(i.d)(this,(function(o){switch(o.label){case 0:return[4,O(t,e,n)];case 1:return o.sent(),[2]}}))}))}},n))}}},b=Object(o.h)([a.c],(function(e){return{componentTypes:["WPhoto"],componentWillMount:function(t){e.addWPhotoOnClick(t.id)}}})),p=Object(o.h)([a.c],(function(e){return{componentTypes:a.d,componentWillMount:function(t){e.addNativeGalleryOnClick(t.id)}}})),f=n(260),h=n(6),v=function(e){e(h.e).to(p),e(h.e).to(b),e(s.a.PageDidMountHandler,s.a.PageDidUnmountHandler,u.h).to(l),e(a.c).to(Object(o.h)([Object(o.f)(c.e,a.f),r.b,r.d,f.a,u.i],m))},O=function(e){e(h.e).to(p),e(h.e).to(b),e(a.c).to(Object(o.h)([Object(o.f)(c.b,a.f),r.b,r.d,Object(o.g)(f.a),Object(o.g)(u.i)],m))}}}]);
//# sourceMappingURL=https://static.parastorage.com/services/wix-thunderbolt/dist/imageZoom.619d1f02.chunk.min.js.map